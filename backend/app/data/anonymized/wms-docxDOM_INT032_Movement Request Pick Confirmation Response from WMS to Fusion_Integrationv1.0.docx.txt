**Table:**

| Business / Technical Brief |
| [Anonymized Customer]-INT032 – Movement Request Pick Confirmation response from WMS to Fusion  29th May 2024, Version  Copyright © 2024, Oracle and/or its affiliates |

---

# Document Control

## Change History

---
**Table:**

| Date | Author | Version | Description |
| 28-May-2024 | [Anonymized Customer] | 1a | Initial Version |
| 31-May-2024 | [Anonymized Customer] | 1.0 | Technical Section Updated with Integration OIC Flow |
|  |  |  |  |
|  |  |  |  |

---

## Reviewed By

---
**Table:**

| Date | Reviewer | Role |
| 04-Jun-2024 | [Anonymized Customer] | Technical Lead |
|  |  |  |
|  |  |  |
|  |  |  |

---

# Introduction

## Purpose

This Design Specification documents details the design for Movement Request pick confirmation interface from Oracle Cloud WMS to Fusion.
This document describes the functional design of the list of attributes which need to be interfaced from Oracle Cloud WMS to Fusion through Oracle Integrated Cloud Service (OIC) to pick confirm and close the movement request lines Fusion. The design document also covers the event attribute mappings from Oracle Cloud WMS to Fusion Functional Columns.

## Overview and Scope

**Overview**
Movement requests are requests for the movement of material within an inventory organization such as a warehouse or facility.
These types of movement requests exist:
- Replenishment movement requests
- Shop floor movement requests
The movement request is then completed (picked and moved) in WMS and this triggers a Pick confirmation record which is communicated back to Fusion inventory to complete the picking action against the Movement request.

**Business Purpose**
Movement Request transaction enables to perform the complete process required to request movement of material, physically move material, and confirm physical movement of material. Hence, a specific interface needs to be built between Oracle Cloud WMS and Fusion as per the Business Requirement to keep movement request intact between the two systems.
This design document focuses on building an interface between Oracle Cloud WMS and Fusion so that movement requests are updated without any issues.

**Scope**
The scope of this document is limited to functional design of the interface pick confirmation for movement requests from Oracle Cloud WMS to Fusion.

**Functional Overview**
Fusion Movement Request is a source for all movement requests published to WMS. These movement requests will be interfaced to WMS for different use cases.
- Min-Max replenishment process in Fusion will trigger a movement request in WMS to move material to [Anonymized Customer] lineside locations.
- Manual Movement Request
- RTV Lineside returns stock to be moved to the RTV sub inventory via the movement request.
Movement request would then be pick confirmed in WMS and the triggers the response to Fusion Inventory via OIC.
The movement request pick confirmation from WMS (IHT-81 and IHT-91) should include the following details at minimum:
- Movement Request Number (ref_value_3)
- Movement Request Line Number (ref_value_4)
- Movement Request Type (ref_value_5)
Item Code
Item Quantity
Destination Location Display Text
Serial Number
Lot/Batch Number (ref_value_1)
Expiry Date (ref_value_2)
In Fusion the interface then runs the process “Print Movement Request Pick slip” Report which would create the Pick Slip.
While submitting the program, Organization ID and Movement request number are passed as input.
Once Pick slip is generated Pick confirmation is done. During Pick Confirmation below details are captured
- Replenishment Movement request created by Min- Max Process and Manual Movement request created for non Shop floor subinventory.
Serial or Lot Numbers as applicable to the Inventory control on the Item that is being transacted.
Destination Locator into which Material is moved if destination subinventory is a shopfloor subinventory which is locator controlled.
- Manual Movement request created for Shop Floor Subinventory
Destination Locator into which Material is moved if destination subinventory is a shopfloor subinventory which is locator controlled.

# Business Objectives

The following objectives were captured during the Focus Stage and are addressed by the functional designs described in this document:

---
**Table:**

| Requirement ID | Category | Short description |
| INT032 | Movement request pick confirmation response from WMS to Fusion | This interface will publish movement requests for Warehouse Management System (WMS) downstream systems. |

---

## Process Overview

The below picture depicts the general steps for the pick confirmation of movement requests in WMS.

# Mapping

# Pre-Conditions

- Organizations against which movement requests are created should exist in WMS.
- Replenishment Templates should be configured in WMS to allocate inventory against the Movement Request.
- Movement Request types (“Replenishment” and “Pick & Move”) should be configured in WMS.
- Scheduled job to trigger the movement request pick confirmation response should be configured in WMS.

# Risk Matrix

---
**Table:**

| Risk | Impact (1 to 5) | Probability (1 to 5) | Mitigation |
| Movement Request Interface Failure to WMS due to missing item in WMS | 5 | 2 | Valid error message stating the integration failure. Re-run the movement request integration |
| Movement Request Interface Failure to WMS due to missing item movement request type in WMS | 5 | 2 | Configure the movement request type in WMS and then Re-run the movement request integration |
| Movement request pick confirmation response failure from WMS | 5 | 1 | Check if the schedule job in WMS is enabled. |

---

# Other Integrations Design Dependency

---
**Table:**

| Name | Dependency | Comments |
| INT001: Item Interface to WMS |  | Items against which the movement request is created should exist in WMS |
| INT031: Movement Request Interface Failure to WMS due to missing item in WMS |  | Valid error message stating the integration failure. Re-run the movement request integration |
| INT031: Movement Request Interface Failure to WMS due to missing item movement request type in WMS |  | Configure the movement request type in WMS and then Re-run the movement request integration |
| INT047: RTV lineside stock creation in WMS |  | Check if the stock is created in WMS, if not, then re-run the INT047 integration to process the open movement request |
|  |  |  |
|  |  |  |
|  |  |  |

---

# Frequency

---
**Table:**

| Responsiveness | Frequency | Comments |
| Generate Inventory History Extract (WMS Job) | Scheduled to run every 2 mins in WMS |  |
|  |  |  |

---

# Business Use Case:

- Create movement request for a serial controlled item.
- Create movement request for a batch/lot-controlled item.
- Create a movement request for a non-inventory item.
- Create a movement request for inventory movement from RTV lineside to the RTV location.

# Open Items

This section is used to summarize any open items related to the design.

---
**Table:**

| No. | Open Item | Data Required/Owner | Status | Impact if not closed |
| 001 | Serial number reservation against a movement request | [Anonymized Customer] | Feature to be released in release 24B |  |
| 002 |  |  |  |  |
| 003 |  |  |  |  |
| 004 |  |  |  |  |
| 005 |  |  |  |  |
| 006 |  |  |  |  |
| 007 |  |  |  |  |

---

### Technical Section

The objective of this section is to provide [Anonymized Customer] with a Technical Specification for Movement Request Pick Slip Confirmation Response from WMS to Fusion.

### Glossary

---
**Table:**

| Annotation | Definition |
| ERP | Enterprise Resource Planning |
| SCM | Supply Chain Management |
| OIC | Oracle Integration Cloud |
| API | Application Programming Interface |
| SaaS | Software as a Service |
| PaaS | Platform as a Service |
| BI Publisher | Business Intelligence Publisher |
| UCM | Universal Content Management |
| WMS | Warehouse Management System |
| ESS | Oracle Enterprise Scheduler |
| REST | Representational State Transfer |
| XML | Extensible Markup Language |
| XSD | XML Schema Definition |
| URL | Uniform Resource Locator |
| CSV | Comma-Separated Values |
| ICS | Oracle Integration Cloud Service |
| HTTP | Hypertext Transfer Protocol |

---

### Document References

---
**Table:**

| Ref No | Name | File Location |
|  |  |  |
|  |  |  |
|  |  |  |

---

### Assumptions

- Inventory organizations of Fusion Inventory should be mapped with WMS Facilities.
- Mapping between WMS Pick Slip Confirmation and ERP Request should be in place for this integration to work effectively.
- In case of any success/error in the integration, a notification email will be sent to the mail list configured in the OIC lookup.

### High Level Approach

- WMS will provide the Payload which contains the Movement Request details.
- The Pick Slip will be generated for the Movement Request in Fusion.
- The Pick Slip generated for the MR will get confirmed in Fusion.

### High Level Flow Diagram

### Pre-Requisites

Send Email Integration “XxCommonNotificationHandler” should be deployed in the OIC.
Lookup “XXDominoCommonLookup” should be present with all the required details regarding success/error email notify flag, success and error notify ToEmail Address in OIC.
Lookup “XxDominoConstantLookup” should be present with all the required details regarding success and error notify FromEmail Address in OIC.
Lookup “XxDominoWmsSubInvLookup” should be present in OIC.

# Integration Analysis –

**XxPickSlipConfirmationWmsToErp**
This Integration component is responsible for communicating Pick Slip confirmation to Fusion Inventory sent by WMS system.

### Integration Components

Below are the required components for this integration.

---
**Table:**

| Integration Name | Integration Pattern | Package Name | Lookup Name |
| XxPickSlipConfirmationWmsToErp | App Driven Orchestration |  | XXDominoCommonLookup, XxDominoWmsSubInvLookup |

---

### Required Connections

---
**Table:**

| Connection Name | Connection Type | Connection Role |
| XxDominoWMSConnection | REST | Trigger and invoke |
| XxDominoErpRestConnection_WMSINT | REST | Trigger |
| XxDominoBIReportConnection_WMSINT | SOAP | Trigger and invoke |
| XxDominoErpCloudConnection_WMSINT | REST | Trigger and invoke |
| XxOicRestTrigger | REST | Trigger |

---

### Integration Outline

**XxPickSlipConfirmationWmsToErp**
- postPickSlipOperation: It uses Rest adapter to fetch the Movement Request related information from WMS.
- ForEachInventoryHistory: This loop will find the distinct Movement Request in the payload received from WMS.
- RunPickSlipReport: This will generate the Pick Slip Number for the Movement Request.
- Whil1: It will wait until the ESS job will complete.
- RunReport: The BIP Report will fetch the Pick Slip number details from the Fusion.
- getLocatorDetails: This API will find the locator details of the item from the WMS.
- CallPickSlipConfirmation: The Pick Slip will be confirmed in Fusion against the movement Request received from WMS.

### Main Flow Code Snippet

Figure: Main flow code snippet

### Global Fault

- The global fault handler is responsible for the whole execution scope and process the exceptions occurred in the individual stages.
- InvokeErrorNotify:
- The global fault handler will invoke the local integration “XxCommonNotificationHandler” which captures the error occurred at any step in overall integration flow and notify it over the email.

### Migration Steps

- Import “XXPICKSLIPCONFIRMATIONWMSTOERP_02.00.0003.iar” in OIC environment.
- Update the OIC Connections with Password, details as per the Environment.
- Validate the "XxCommonNotificationHandler", which is deployed in OIC.
- Configure the Connection with Dev Instance URL, Instance Name (whenever updated) which is present in “Domino Constant lookup maintained in OIC.
- Complete the OIC integration configuration and activate OIC service.

# Open and Closed Issues

This section is used to summarize any open and closed questions relating to Error Handler

---
**Table:**

| ID | Topic | Description | Status | Owner |
| 1 |  |  |  |  |
| 2 |  |  |  |  |

---